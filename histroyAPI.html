<html lang="en">
<head>
    <meta charset="utf-8">
    <title>HTML5 History API - pushState | Expert Developer</title>
    <meta name="description" content="HTML5 History API, pushState">
    <meta name="keyword" content="html5 api, html history api, html5 history api, history api, pushShate">
    <style type="text/css">body {
        padding-top: 60px;
        padding-bottom: 40px;
    }

    h2 {
        font-family: 'Junge', serif;
        font-weight: 400;
        text-shadow: 1px 1px 3px #CCC;
    }

    .nav-tabs a {
        font-size: 18px;
    }

    #contentHolder h2 {
        font-size: 26px;
    }

    #contentHolder p {
        font-family: 'Junge', serif;
        font-size: 18px;
    }
    .holder p,.holder h1{font-family:'Junge',serif;font-weight:400;text-shadow:1px 1px 3px #ccc;}ul li a{font-family:'Junge',serif;}.holder{float:left;width:1048px;background-color:whitesmoke;}.span4{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;}.smoke{background-color:whitesmoke;}.step_menu1{z-index:1000;float:left;min-width:160px;max-width:220px;_width:160px;padding:4px 0;margin:0px 0px 0px 95px;list-style:none;background-color:whitesmoke;}.step_menu1 a{display:block;padding:10px 15px;clear:both;font-weight:bold;font-size:14px;line-height:18px;color:#B7B7B7;white-space:nowrap;}.step_menu1 li{text-align:center;padding:7px 0;font-size:12px;font-family:Arial,Helvetica,sans-serif;font-style:normal;line-height:18px;background:whitesmoke;-moz-transition:all 0.26s ease-out;-o-transition:all 0.26s ease-out;-webkit-transition:all 0.26s ease-out;-ms-transition:all 0.26s ease-out;}.step_menu1 li:nth-child(even){background:whitesmoke;border:solid #CCC;border-width:0 1px 1px 0;}.step_menu1 li:hover{-moz-box-shadow:1px 1px #CCC,2px 2px #CCC,3px 3px #CCC,4px 4px #CCC,5px 5px #CCC,6px 6px #CCC,7px 7px #CCC,8px 8px #CCC;-webkit-box-shadow:1px 1px #CCC,2px 2px #CCC,3px 3px #CCC,4px 4px #CCC,5px 5px #CCC,6px 6px #CCC,7px 7px #CCC,8px 8px #CCC;box-shadow:1px 1px #CCC,2px 2px #CCC,3px 3px #CCC,4px 4px #CCC,5px 5px #CCC,6px 6px #CCC,7px 7px #CCC,8px 8px #CCC;-webkit-transform:translate(-10px,-10px);-moz-transform:translate(-10px,-10px);-o-transform:translate(-10px,-10px);-ms-transform:translate(-10px,-10px);text-decoration:none;}li a:hover{text-decoration:none;}.skyblue{background-color:#00CCFF;}.step_menu2{z-index:1000;float:left;min-width:160px;max-width:220px;_width:160px;padding:4px 0;margin:0px 0px 0px 95px;list-style:none;background-color:#00CCFF;}.step_menu2 a{display:block;padding:10px 15px;clear:both;font-weight:bold;font-size:14px;line-height:18px;color:#0099FF;white-space:nowrap;}.step_menu2 li{text-align:center;padding:7px 0;font-size:12px;font-family:Arial,Helvetica,sans-serif;font-style:normal;line-height:18px;background:#00CCFF;-moz-transition:all 0.26s ease-out;-o-transition:all 0.26s ease-out;-webkit-transition:all 0.26s ease-out;-ms-transition:all 0.26s ease-out;}.step_menu2 li:hover{-moz-box-shadow:1px 1px #00C0F0,2px 2px #00C0F0,3px 3px #00C0F0,4px 4px #00C0F0,5px 5px #00C0F0,6px 6px #00C0F0,7px 7px #00C0F0,8px 8px #00C0F0;-webkit-box-shadow:1px 1px #00C0F0,2px 2px #00C0F0,3px 3px #00C0F0,4px 4px #00C0F0,5px 5px #00C0F0,6px 6px #00C0F0,7px 7px #00C0F0,8px 8px #00C0F0;box-shadow:1px 1px #00C0F0,2px 2px #00C0F0,3px 3px #00C0F0,4px 4px #00C0F0,5px 5px #00C0F0,6px 6px #00C0F0,7px 7px #00C0F0,8px 8px #00C0F0;-webkit-transform:translate(-10px,-10px);-moz-transform:translate(-10px,-10px);-o-transform:translate(-10px,-10px);-ms-transform:translate(-10px,-10px);text-decoration:none;}.maroon{background-color:#FF2259;}.step_menu3{z-index:1000;float:left;min-width:160px;max-width:220px;_width:160px;padding:4px 0;margin:0px 0px 0px 95px;list-style:none;background-color:#FF2259;}.step_menu3 a{display:block;padding:10px 15px;clear:both;font-weight:bold;line-height:18px;color:#AA002B;white-space:nowrap;font-size:14px;}.step_menu3 li{text-align:center;padding:7px 0;font-size:12px;font-family:Arial,Helvetica,sans-serif;font-style:normal;line-height:18px;background:#FF2259;-moz-transition:all 0.26s ease-out;-o-transition:all 0.26s ease-out;-webkit-transition:all 0.26s ease-out;-ms-transition:all 0.26s ease-out;}.step_menu3 li:hover{-moz-box-shadow:1px 1px #AA002B,2px 2px #AA002B,3px 3px #AA002B,4px 4px #AA002B,5px 5px #AA002B,6px 6px #AA002B,7px 7px #AA002B,8px 8px #AA002B;-webkit-box-shadow:1px 1px #AA002B,2px 2px #AA002B,3px 3px #AA002B,4px 4px #AA002B,5px 5px #AA002B,6px 6px #AA002B,7px 7px #AA002B,8px 8px #AA002B;box-shadow:1px 1px #AA002B,2px 2px #AA002B,3px 3px #AA002B,4px 4px #AA002B,5px 5px #AA002B,6px 6px #AA002B,7px 7px #AA002B,8px 8px #AA002B;-webkit-transform:translate(-10px,-10px);-moz-transform:translate(-10px,-10px);-o-transform:translate(-10px,-10px);-ms-transform:translate(-10px,-10px);text-decoration:none;}
    </style>
</head>
<body style="">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <div class="hero-unit holder" style="margin:0px; padding: 15px 60px 10px 60px;">
                <h1>HTML5 History API - pushState</h1>
                <p style="margin-top:40px;">This demo shows how to deal with HTML5 History API using <strong><u>history.pushState</u></strong>.</p>
                <p><strong>Click on tabs below, it will load content in page and <u>add</u> history entry in browser.</strong></p>
            </div>
            <div class="nav-collapse">
                <ul class="nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="http://www.xpertdeveloper.com/about/">About</a></li>
                    <li><a href="http://www.xpertdeveloper.com/contact/">Contact</a></li>
                </ul>
            </div>

        </div>
    </div>
</div>
<div class="container">

    <div class="hero-unit holder" style="margin:0px; padding: 15px 60px 10px 60px;">
        <h1>HTML5 History API - pushState</h1>

        <p style="margin-top:40px;">This demo shows how to deal with HTML5 History API using <strong><u>history.pushState</u></strong>.
        </p>

        <p><strong>Click on tabs below, it will load content in page and <u>add</u> history entry in browser.</strong>
        </p>
    </div>
    <div class="well" style="padding-left:60px;">
        <ul class="nav nav-tabs" role="tablist">
            <li class=""><a href="home.html" class="historyAPI">Home</a></li>
            <li class="active"><a href="about.html" class="historyAPI">About</a></li>
            <li class=""><a href="contact.html" class="historyAPI">Contact Us</a></li>
        </ul>
        <div class="well" id="contentHolder" style="box-shadow:inset 0 0px 0px rgba(0, 0, 0, 0); border: 0px none;"></div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
    jQuery('document').ready(function () {

        jQuery('.historyAPI').on('click', function (e) {
            e.preventDefault();
            var href = $(this).attr('href');

            // Getting Content
            getContent(href, true);

            jQuery('.historyAPI').parent().removeClass('active');
            $(this).parent().addClass('active');
        });

    });

    // Adding popstate event listener to handle browser back button
    window.addEventListener("popstate", function (e) {

        // Update Content
        getContent(location.pathname, false);
        jQuery('.historyAPI').parent().removeClass('active');
        $('a[href="' + e.state.location + '"]').parent().addClass('active');

    });

    function getContent(url, addEntry) {
        $.get(url)
                .done(function (data) {

                    // Updating Content on Page
                    $('#contentHolder').html(data);

                    if (addEntry == true) {

                        var stateData = {
                            "location": url
                        }

                        // Add History Entry using pushState
                        history.pushState(stateData, null, url);
                    }


                });
    }
</script>
</body>
</html>